{"version":3,"sources":["webpack:///./src/views/frontend/Products.vue?8719","webpack:///src/views/frontend/Products.vue","webpack:///./src/views/frontend/Products.vue?d1b1","webpack:///./src/views/frontend/Products.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","class","category","on","$event","preventDefault","selectCategory","staticStyle","_l","item","key","id","goProductDetail","style","name","params","_s","title","description","_f","price","origin_price","_e","isLoading","stopPropagation","addtoCart","staticRenderFns","data","created","getProducts","computed","methods","$store","commit","target","length","dispatch","originCartId","originProductId","newQty","productId","component"],"mappings":"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","file":"js/chunk-2d0dd9be.ae930090.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-7\"},[_c('div',{staticClass:\"banner w-100\"}),_c('div',{staticClass:\"container p-3 p-md-4\",attrs:{\"id\":\"porducts\"}},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb \"}},[_c('ol',{staticClass:\"breadcrumb bg-white\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{staticClass:\"text-gray-600\",attrs:{\"to\":\"/index\"}},[_vm._v(\"首頁\")])],1),_c('li',{staticClass:\"breadcrumb-item text-secondary active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\"購物商場\")])])]),_c('div',{staticClass:\"products row\"},[_c('div',{staticClass:\"sort col-lg-2\"},[_c('ul',{staticClass:\"sort-items list-unstyled d-flex flex-lg-column justify-content-around\"},[_c('li',[_c('a',{staticClass:\"rounded bg-secondary px-1 px-sm-3\",class:{ 'active': _vm.category === 'all' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.selectCategory('all')}}},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"box-open\"}}),_vm._v(\"所有商品 \")],1)]),_c('li',[_c('a',{staticClass:\"rounded bg-secondary px-1 px-sm-3\",class:{ 'active': _vm.category === '最新商品' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.selectCategory('最新商品')}}},[_c('font-awesome-layers',{staticClass:\"fa-size mr-1\"},[_c('font-awesome-icon',{staticClass:\"text-light-red\",attrs:{\"icon\":\"certificate\"}}),_c('font-awesome-layers-text',{staticClass:\"fa-inverse\",staticStyle:{\"font-weight\":\"900\"},attrs:{\"transform\":\"shrink-8 rotate--30\",\"value\":\"NEW\"}})],1),_vm._v(\"最新商品 \")],1)]),_c('li',[_c('a',{staticClass:\"rounded bg-secondary px-1 px-sm-3\",class:{ 'active': _vm.category === '誠心推薦' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.selectCategory('誠心推薦')}}},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"thumbs-up\"}}),_vm._v(\"誠心推薦 \")],1)])])]),_c('div',{staticClass:\"products-list col-lg-10\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.categoryProducts),function(item){return _c('div',{key:item.id,staticClass:\"col-lg-4 col-md-6 col-12 mb-3\"},[_c('div',{staticClass:\"card product-card\",on:{\"click\":function($event){return _vm.goProductDetail(item.id)}}},[_c('div',{staticClass:\"product-img\",style:({ 'backgroundImage':(\"url('\" + (item.imageUrl) + \"')\") })},[_c('router-link',{attrs:{\"to\":{ name: 'ProductDetail', params: { id: item.id }}}},[_c('div',{staticClass:\"more\"},[_vm._v(\"詳細商品...\")])])],1),_c('div',{staticClass:\"card-body p-0 pt-4 pm-2 align-items-\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(item.title))]),_c('p',{staticClass:\"card-text card-content text-gray-700\"},[_vm._v(_vm._s(item.description))]),_c('div',{staticClass:\"card-price pt-3 d-flex justify-content-between align-items-end\"},[_c('span',{staticClass:\"price text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.price))+\" 元\")]),(item.origin_price)?_c('span',{staticClass:\"orange-price\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.origin_price))+\" 元\")]):_vm._e()]),_c('button',{staticClass:\"btn btn-outline-secondary w-100 mt-3\",attrs:{\"type\":\"button\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){$event.stopPropagation();return _vm.addtoCart(item.id)}}},[_vm._v(\"加入購物車\")])])])])}),0)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mt-7\">\n    <div class=\"banner w-100\"></div>\n    <div id=\"porducts\" class=\"container p-3 p-md-4\">\n      <nav aria-label=\"breadcrumb \">\n        <ol class=\"breadcrumb bg-white\">\n          <li class=\"breadcrumb-item\">\n            <router-link to=\"/index\" class=\"text-gray-600\">首頁</router-link>\n          </li>\n          <li class=\"breadcrumb-item text-secondary active\" aria-current=\"page\">購物商場</li>\n        </ol>\n      </nav>\n      <div class=\"products row\">\n        <div class=\"sort col-lg-2\">\n          <ul class=\"sort-items list-unstyled d-flex flex-lg-column justify-content-around\">\n            <li>\n              <a\n                href=\"#\"\n                class=\"rounded bg-secondary px-1 px-sm-3\"\n                :class=\"{ 'active': category === 'all' }\"\n                @click.prevent=\"selectCategory('all')\"\n              >\n                <font-awesome-icon icon=\"box-open\" class=\"mr-1\" />所有商品\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"#\"\n                class=\"rounded bg-secondary px-1 px-sm-3\"\n                :class=\"{ 'active': category === '最新商品' }\"\n                @click.prevent=\"selectCategory('最新商品')\"\n              >\n                <font-awesome-layers class=\"fa-size mr-1\">\n                  <font-awesome-icon icon=\"certificate\" class=\"text-light-red\" />\n                  <font-awesome-layers-text\n                    class=\"fa-inverse\"\n                    transform=\"shrink-8 rotate--30\"\n                    value=\"NEW\"\n                    style=\"font-weight:900\"\n                  />\n                </font-awesome-layers>最新商品\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"#\"\n                class=\"rounded bg-secondary px-1 px-sm-3\"\n                :class=\"{ 'active': category === '誠心推薦' }\"\n                @click.prevent=\"selectCategory('誠心推薦')\"\n              >\n                <font-awesome-icon icon=\"thumbs-up\" class=\"mr-1\" />誠心推薦\n              </a>\n            </li>\n          </ul>\n        </div>\n        <div class=\"products-list col-lg-10\">\n          <div class=\"row\">\n            <div\n              class=\"col-lg-4 col-md-6 col-12 mb-3\"\n              v-for=\"item in categoryProducts\"\n              :key=\"item.id\"\n            >\n              <div class=\"card product-card\" @click=\"goProductDetail(item.id)\">\n                <div class=\"product-img\" :style=\"{ 'backgroundImage':`url('${item.imageUrl}')` }\">\n                  <router-link :to=\"{ name: 'ProductDetail', params: { id: item.id }}\">\n                    <div class=\"more\">詳細商品...</div>\n                  </router-link>\n                </div>\n                <div class=\"card-body p-0 pt-4 pm-2 align-items-\">\n                  <h5 class=\"card-title\">{{ item.title }}</h5>\n                  <p class=\"card-text card-content text-gray-700\">{{ item.description }}</p>\n                  <div class=\"card-price pt-3 d-flex justify-content-between align-items-end\">\n                    <span class=\"price text-danger\">{{ item.price | currency }} 元</span>\n                    <span\n                      class=\"orange-price\"\n                      v-if=\"item.origin_price\"\n                    >{{ item.origin_price | currency }} 元</span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary w-100 mt-3\"\n                    @click.stop=\"addtoCart(item.id)\"\n                    :disabled=\"isLoading\"\n                  >加入購物車</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n\n    };\n  },\n  created() {\n    this.getProducts();\n  },\n  computed: {\n    ...mapGetters('productsModules', [\n      'products',\n      'category',\n      'categoryProducts',\n    ]),\n    ...mapGetters('cartModules', ['cart']),\n    ...mapGetters(['isLoading']),\n  },\n  methods: {\n    ...mapActions('productsModules', ['getProducts']),\n    selectCategory(name) {\n      this.$store.commit('productsModules/SELECTCATEGORY', name);\n    },\n    addtoCart(id, qty = 1) {\n      const target = this.cart.carts.filter((item) => item.product_id === id);\n      if (target.length > 0) {\n        const originCartId = target[0].id;\n        const originQty = target[0].qty;\n        const originProductId = target[0].product_id;\n        const newQty = Number(qty) + Number(originQty);\n        this.$store.dispatch('cartModules/changeQty', {\n          originCartId,\n          originProductId,\n          newQty,\n        });\n      } else {\n        this.$store.dispatch('cartModules/addtoCart', { id, qty });\n      }\n    },\n    goProductDetail(productId) {\n      this.$store.dispatch('productsModules/goProductDetail', productId);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=04cfd7b2&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}